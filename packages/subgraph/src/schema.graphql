enum ActivityEventType {
  StreamWithdrawEvent,
  StreamDepositEvent
}

type Organization @entity {
  id: ID!
  owner: Bytes!
  orgName: String!
  createdAt: BigInt!
  streamActivities: [StreamActivity!]! @derivedFrom(field: "organization")
  streams: [Stream!]! @derivedFrom(field: "organization")
}

type Stream @entity {
  id: ID! # set to Organization.ID + name keccak256 hash
  name: String!
  organization: Organization!
  createdAt: BigInt!
}

type StreamActivity @entity {
  id: ID!
  stream: Stream!
  organization: Organization!
  eventType: ActivityEventType!
  actor: Bytes!
  amount: BigInt!
  info: String!
  createdAt: BigInt!
}